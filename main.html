


<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Battleship (Eric Lewis)</title>
        
        <style>
            .border {
                border: 3px solid #555;
            }
        </style>

	</head>

	<body>


        <h1>Battleship implemented by Eric Lewis</h1>

        <!-- <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> -->

        

        <svg id="main-svg" width="500" height="500" class="border">

            <!-- <circle id="cir" cx="200" cy="50" r="40" stroke="green" stroke-width="4" fill="yellow"></circle>

            <circle id="cir2" cx="200" cy="50" r="20" stroke="black" stroke-width="2" fill="red"></circle> -->

            <!-- <text x="50" y="50" text-anchor="middle">hello world!</text> -->


        </svg>
    
    </body>

    <script>

"use strict";


var mainSVG = document.getElementById("main-svg");



function drawCircle(cx, cy, r, fill, stroke, strokeWidth) {
    const element = document.createElementNS("http://www.w3.org/2000/svg", "circle");
    element.setAttribute("cx", cx);
    element.setAttribute("cy", cy);
    element.setAttribute("r", r);

    if(fill) {
        element.setAttribute("fill", fill);
    }
    if(stroke) {
        element.setAttribute("stroke", stroke);
    }
    if(strokeWidth) {
        element.setAttribute("stroke-width", strokeWidth);
    }
    mainSVG.appendChild(element);
    return element;
}

function drawRect(x, y, w, h, fill, stroke, strokeWidth) {
    const element = document.createElementNS("http://www.w3.org/2000/svg", "rect");
    element.setAttribute("x", x);
    element.setAttribute("y", y);
    element.setAttribute("width", w);
    element.setAttribute("height", h);

    if(fill) {
        element.setAttribute("fill", fill);
    }
    if(stroke) {
        element.setAttribute("stroke", stroke);
    }
    if(strokeWidth) {
        element.setAttribute("stroke-width", strokeWidth);
    }
    mainSVG.appendChild(element);
    return element;
}

function drawText(text, x, y, alignH, alignV) {
    const element = document.createElementNS("http://www.w3.org/2000/svg", "text");
    element.setAttribute("x", x);
    element.setAttribute("y", y);

    element.textContent = text;

    if(alignH) {
        if(alignH == "left") {
            alignH = "start";
        } else if(alignH == "right") {
            alignH = "end";
        }
        element.setAttribute("text-anchor", alignH);
    }
    if(alignV) {
        element.setAttribute("dominant-baseline", alignV);
    }
    mainSVG.appendChild(element);
    return element;
}



function test() {
    
    
    const para = document.createElement("p");
    para.innerText = "This is a paragraph";
    document.body.appendChild(para);



    // // var mainSVG = document.getElementById("main-svg");
    // // // mainSVG.innerHTML = "Hello World!";

    // var x = 250;
    // var y = 300;
    // var r = 30;
    // var stroke = "green";
    // var strokeWidth = 4;
    // var fill = "blue";

    // var circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
    // circle.setAttributeNS(null, "cx", x);
    // circle.setAttributeNS(null, "cy", y);
    // circle.setAttributeNS(null, "r", r)
    // circle.setAttributeNS(null, "stroke", stroke);
    // circle.setAttributeNS(null, "stroke-width", strokeWidth);
    // circle.setAttributeNS(null, "fill", fill);
    // mainSVG.appendChild(circle);

    // // document.getElementById("main-svg").appendChild(circle);

    // var c = document.getElementById("cir");




    // c.setAttributeNS(null, "cx", Number(c.getAttributeNS(null, "cx")) + 50);

    // console.log(c)
    // console.log(circle)

    // console.log(mainSVG)
    
    // mainSVG.appendChild(circle);

    // console.log(mainSVG)

}

function initTile(element) {

    function handleMouseOver() {
        element.setAttribute("fill", "lightblue");
    }
    function handleMouseOut() {
        element.setAttribute("fill", "white");
    }
    function handleClick() {
        element.setAttribute("fill", "red")
    }

    element.addEventListener("mouseover", handleMouseOver);
    element.addEventListener("mouseout", handleMouseOut);
    element.addEventListener("click", handleClick);
    
}



function drawMap() {

    const tileSize = 40;
    const gridOffset = 75;

    const textOffset = gridOffset - tileSize/8;
    const fontSize = tileSize / 2;

    for(var x=0; x<10; x++) {
        let rx = x*tileSize + gridOffset
        let cx = rx + tileSize/2

        drawText(x+1, cx, textOffset, "middle").setAttribute("font-size", fontSize);

        for(let y=0; y<10; y++) {
            let ry = y*tileSize + gridOffset
            let cy = ry + tileSize/2

            let tile = drawRect(rx, ry, tileSize, tileSize, "white", "black", 1);
            drawCircle(cx, cy, tileSize/20);

            initTile(tile);
        }
    }

    const letters = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J"]
    for(let y=0; y<10; y++) {
        let ry = y*tileSize + gridOffset
        let cy = ry + tileSize/2

        drawText(letters[y], textOffset, cy, "right", "middle").setAttribute("font-size", fontSize);
    }

}
drawMap();

    </script>

    <br/>
    <br/>
    <button onclick="test()">test</button>
    <div>hello world</div> <div>testing</div>
</html>

